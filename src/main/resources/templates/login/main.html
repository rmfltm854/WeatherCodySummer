<!DOCTYPE html>
<html lang="ko"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeatherCody</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link th:href="@{/css/main.css}" rel="stylesheet" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
<!-- 민수꺼 -->
<div class="weatherWidget">
    <div id="ww_ef7067e45137d" v='1.3' loc='id'
         a='{"t":"responsive","lang":"ko","sl_lpl":1,"ids":["wl7405"],"font":"Arial","sl_ics":"one_a","sl_sot":"celsius","cl_bkg":"image","cl_font":"#FFFFFF","cl_cloud":"#FFFFFF","cl_persp":"#81D4FA","cl_sun":"#FFC107","cl_moon":"#FFC107","cl_thund":"#FF5722","cl_odd":"#00000000"}'>
        Weather for the Following Location: <a href="https://2ua.org/de/kor/gimhae/karte/" id="ww_ef7067e45137d_u"
                                               target="_blank">Gimhae karte</a></div>
    <script async src="https://app1.weatherwidget.org/js/?id=ww_ef7067e45137d"></script>
</div>
<!-- 여기까지 -->
<nav style="margin-top: -1px;">
    <button type="button" style="background-color: transparent; border: none;" onclick="location.href='/main'">
    <img class="logo" href="/main" src="/image/logo.png.png">
    </button>
    <form class="search-bar" role="search">
        <input class="search-bar2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn" type="submit">Search</button>
    </form>
    <div class="rank"> 랭킹
        <span class="chart-change up">▲</span>
    </div>
</nav>

<!-- thymeleaf th:block활용
    1. 넘어온 memberInfo값이 있으면 로그아웃을 띄어줌
    2. 넘어온 값이 없다면 로그인을 띄워줌-->

<div class="navnav">
    <ul class="menu">
        <th:block th:if="${memberInfo != null}">
            <li class="nav-item">
                <a class="title" href="/logout"> 로그아웃</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:if="${memberInfo != null}" href="/userInfo">마이페이지</a>
            </li>
        </th:block>
        <th:block th:if="${memberInfo == null}">
            <li class="nav-item">
                <a class="title" href="/login"> 로그인</a>
            </li>
        </th:block>
        <li class="nav-item">
            <a class="nav-link" href="/recently/view" >최근에 본 상품</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/product/man">남성</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/product/women">여성</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/help">고객센터</a>
        </li>
    </ul>
</div>
<main>
    <aside>
        <div class="side_box">CATEGORY
            <ul class="brand">
                <li class="bra-item">
                    <a class="bra-link" href="/product/man">무신사</a>
                </li>
                <li class="bra-item">
                    <a class="bra-link" href="/product/man/etc">기타</a>
                </li>
            </ul>
        </div>
    </aside>
    <section>
        <div>
            <div class="product-box">남성 BEST상품
                <div class="container">
                    <!-- grid -->
                    <div class="row">
                    <th:block th:each="manRank:${manRank}">
                        <div class="col-lg-4">
                            <div class="info-box" href="#">
                                <input type="hidden" th:value="man">
                                <a href="#" th:href="@{/product/detail(id = ${manRank.id},gender='man')}">
                                <img class="img-fluid" th:id="${manRank.id}" th:src="@{${manRank.src}}">
                                </a>
                                <div class="info">
                                    <p>코디 이름</p>
                                    <button class="like">♥</button>
                                    <span class="like-name like-count" th:text="${manRank.likeNum}"></span>
                                </div>
                            </div>
                        </div>
                    </th:block>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <div class="product-box">여성 BEST상품
                <div class="container">
                    <!-- grid -->
                    <div class="row">
                        <th:block th:each="WomenRank:${WomenRank}">
                            <div class="col-lg-4">
                                <div class="info-box" href="#">
                                    <input type="hidden" th:value="women">
                                    <a href="#" th:href="@{/product/detail(id = ${WomenRank.id}, gender='women')}">
                                        <img class="img-fluid" th:id="${WomenRank.id}" th:src="@{${WomenRank.src}}">
                                    </a>
                                    <div class="info">
                                        <p>코디 이름</p>
                                        <button class="like">♥</button>
                                        <span class="like-name like-count" th:text="${WomenRank.WlikeNum}"></span>
                                    </div>
                                </div>
                            </div>
                        </th:block>
                    </div>
                </div>
            </div>
        </div>
    </section>

</main>

<!--<script src="/JS/like.js?v=<%=System.currentTimeMillis() %>"></script>-->
<script th:src="@{/JS/like.js}" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js" ></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>